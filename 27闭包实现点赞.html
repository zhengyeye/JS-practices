<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>闭包实现点赞</title>
    <style>
        ul li {
            list-style: none;
            float:left;
            margin: 20px;
        }
        img {
            width:200px;
            height: 200px;
            border: 1px solid rgba(96, 255, 64, 0.6);
        }
    </style>
</head>
<body>
<ul>
    <li>
        <img src="images/imgs/1.jpeg" />
        <input type="button" value="点赞(1)">
    </li>
    <li>
        <img src="images/imgs/2.jpeg" />
        <input type="button" value="点赞(1)">
    </li>
    <li>
        <img src="images/imgs/3.jpeg" />
        <input type="button" value="点赞(1)">
    </li>
    <li>
        <img src="images/imgs/4.jpg" />
        <input type="button" value="点赞(1)">
    </li>
</ul>
<script>
    // var inputElements = document.getElementsByTagName('input');
    // for(var i in inputElements){
    //     console.log(i);
    // }
    // 根据标签名获取元素
    function my$(tagName) {
        return document.getElementsByTagName(tagName);
    }
    // var btnObjs = my$('input');
    // var value=1;
    // //循环每个按钮
    // for(var i=0;i<btnObjs.length;i++){
    //     //为每个按钮注册点击事件
    //     btnObjs[i].onclick=function () {
    //         console.log('-------------');
    //         this.value='点赞('+(value++)+')';
    //     }
    // }
    // 闭包缓存数据
    function getValue() {
        var value=2;
        return function() {
            this.value="点赞("+(value++)+")";
        }
    }

    // 获取所有的按钮
    var btnObjs = my$('input');
    for(var i=0;i<btnObjs.length;i++){
        btnObjs[i].onclick=getValue () ;
    }
</script>
</body>
</html>